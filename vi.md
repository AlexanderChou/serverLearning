# 学习VI使用

## 自学任务
> - 熟练使用编辑，定位，选择，查找，替换等常用命令


## VI简介
vi(Visual Interface)编辑器是所有Unix及Linux系统下标准的编辑器，功能非常强大。

## VI三种模式
> - 命令模式
> - 输入模式
> - 底行模式

默认为命令模式，输入##a, i, o, s##进入输入模式，按ESC键返回命令模式。
命令模式下，输入##:##即进入底行模式，按ESC键返回命令模式。


## VI 命令
### 编辑
``` bash
x 删除当前光标字符
#x  删除#个字符
dd 删除整行
D  删除到行尾

yy 复制一行
d 剪切
p 粘贴到光标后
u 撤销改动
ctrl + r   重做
```

### 定位
```
h：向左
l：向右
j：向下
k：向上
w：移到下一个单词的词首
0：绝对行首
$：绝对行尾
G：最后一行
:行号 (底行模式)
```

### 选择
``` bash
v: 从光标当前位置开始，光标所经过的地方会被选中，再按一下v结束。 
V: 从光标当前行开始，光标经过的行都会被选中，再按一下Ｖ结束。 
Ctrl + v: 从光标当前位置开始，选中光标起点和终点所构成的矩形区域，再按一下Ｃtrl + v结束。 
ggVG: 选中全部的文本， 其中gg为跳到行首，V选中整行，G末尾

选定文本后，
d：删除
p：粘贴  
```
### 查找
底行模式下
``` bash  
/PATTERN：从当前位置向后查找
?PATTERN：从当前位置向前查找
/  : 重复上次查找内容,向下搜索一次
?  : 重复上次查找内容,向上搜索一次
n：重复上次查找，向下搜索
N：重复上次查找，向上搜索
```
### 替换
底行模式下，用:s命令实现文本替换
``` bash
[range]s/pattern/string/[c,e,g,i]  


c： confirm，每次询问
e： 不显示error
g： global，整行替换
i： ignore，不区分大小写


:s/vivian/sky/ 替换当前行第一个 vivian 为 sky

:s/vivian/sky/g 替换当前行所有 vivian 为 sky

:n,$s/vivian/sky/ 替换第n行开始到最后一行中每一行的第一个 vivian 为 sky

:n,$s/vivian/sky/g 替换第n行开始到最后一行中每一行所有 vivian 为 sky
``` 
